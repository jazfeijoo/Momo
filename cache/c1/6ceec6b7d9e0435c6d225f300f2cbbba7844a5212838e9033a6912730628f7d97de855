{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":155,"column":0,"index":3910}}],"key":"7kvm5yrOpz4NYiDi6sn4qxa8DVQ="}},{"name":"@babel/runtime/helpers/slicedToArray","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":155,"column":0,"index":3910}}],"key":"EU+qeBIKi4KcIzPeK4PbkLqFqVY="}},{"name":"@babel/runtime/helpers/defineProperty","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":155,"column":0,"index":3910}}],"key":"RY2z4+Bdq4bpTD/1b+1jGPWZdgA="}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _interopRequireDefault = _$$_REQUIRE(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.default = getActionFromState;\n  var _slicedToArray2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[1], \"@babel/runtime/helpers/slicedToArray\"));\n  var _defineProperty2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[2], \"@babel/runtime/helpers/defineProperty\"));\n  function ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\n  function _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { (0, _defineProperty2.default)(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\n  function getActionFromState(state, options) {\n    var _state$index, _normalizedConfig$scr;\n    // Create a normalized configs object which will be easier to use\n    var normalizedConfig = options ? createNormalizedConfigItem(options) : {};\n    var routes = state.index != null ? state.routes.slice(0, state.index + 1) : state.routes;\n    if (routes.length === 0) {\n      return undefined;\n    }\n    if (!(routes.length === 1 && routes[0].key === undefined || routes.length === 2 && routes[0].key === undefined && routes[0].name === (normalizedConfig == null ? void 0 : normalizedConfig.initialRouteName) && routes[1].key === undefined)) {\n      return {\n        type: 'RESET',\n        payload: state\n      };\n    }\n    var route = state.routes[(_state$index = state.index) != null ? _state$index : state.routes.length - 1];\n    var current = route == null ? void 0 : route.state;\n    var config = normalizedConfig == null ? void 0 : (_normalizedConfig$scr = normalizedConfig.screens) == null ? void 0 : _normalizedConfig$scr[route == null ? void 0 : route.name];\n    var params = _objectSpread({}, route.params);\n    var payload = route ? {\n      name: route.name,\n      path: route.path,\n      params: params\n    } : undefined;\n    while (current) {\n      var _config, _config2, _config2$screens;\n      if (current.routes.length === 0) {\n        return undefined;\n      }\n      var _routes = current.index != null ? current.routes.slice(0, current.index + 1) : current.routes;\n      var _route = _routes[_routes.length - 1];\n\n      // Explicitly set to override existing value when merging params\n      Object.assign(params, {\n        initial: undefined,\n        screen: undefined,\n        params: undefined,\n        state: undefined\n      });\n      if (_routes.length === 1 && _routes[0].key === undefined) {\n        params.initial = true;\n        params.screen = _route.name;\n      } else if (_routes.length === 2 && _routes[0].key === undefined && _routes[0].name === ((_config = config) == null ? void 0 : _config.initialRouteName) && _routes[1].key === undefined) {\n        params.initial = false;\n        params.screen = _route.name;\n      } else {\n        params.state = current;\n        break;\n      }\n      if (_route.state) {\n        params.params = _objectSpread({}, _route.params);\n        params = params.params;\n      } else {\n        params.path = _route.path;\n        params.params = _route.params;\n      }\n      current = _route.state;\n      config = (_config2 = config) == null ? void 0 : (_config2$screens = _config2.screens) == null ? void 0 : _config2$screens[_route.name];\n    }\n    if (!payload) {\n      return;\n    }\n\n    // Try to construct payload for a `NAVIGATE` action from the state\n    // This lets us preserve the navigation state and not lose it\n    return {\n      type: 'NAVIGATE',\n      payload: payload\n    };\n  }\n  var createNormalizedConfigItem = function createNormalizedConfigItem(config) {\n    return typeof config === 'object' && config != null ? {\n      initialRouteName: config.initialRouteName,\n      screens: config.screens != null ? createNormalizedConfigs(config.screens) : undefined\n    } : {};\n  };\n  var createNormalizedConfigs = function createNormalizedConfigs(options) {\n    return Object.entries(options).reduce(function (acc, _ref) {\n      var _ref2 = (0, _slicedToArray2.default)(_ref, 2),\n        k = _ref2[0],\n        v = _ref2[1];\n      acc[k] = createNormalizedConfigItem(v);\n      return acc;\n    }, {});\n  };\n});","lineCount":95,"map":[[11,2,31,15],[11,11,31,24,"getActionFromState"],[11,29,31,42,"getActionFromState"],[11,30,32,2,"state"],[11,35,32,38],[11,37,33,2,"options"],[11,44,33,19],[11,46,34,70],[12,4,34,70],[12,8,34,70,"_state$index"],[12,20,34,70],[12,22,34,70,"_normalizedConfig$scr"],[12,43,34,70],[13,4,35,2],[14,4,36,2],[14,8,36,8,"normalizedConfig"],[14,24,36,24],[14,27,36,27,"options"],[14,34,36,34],[14,37,37,6,"createNormalizedConfigItem"],[14,63,37,32],[14,64,37,33,"options"],[14,71,37,71],[14,72,37,72],[14,75,38,6],[14,76,38,7],[14,77,38,8],[15,4,40,2],[15,8,40,8,"routes"],[15,14,40,14],[15,17,41,4,"state"],[15,22,41,9],[15,23,41,10,"index"],[15,28,41,15],[15,32,41,19],[15,36,41,23],[15,39,41,26,"state"],[15,44,41,31],[15,45,41,32,"routes"],[15,51,41,38],[15,52,41,39,"slice"],[15,57,41,44],[15,58,41,45],[15,59,41,46],[15,61,41,48,"state"],[15,66,41,53],[15,67,41,54,"index"],[15,72,41,59],[15,75,41,62],[15,76,41,63],[15,77,41,64],[15,80,41,67,"state"],[15,85,41,72],[15,86,41,73,"routes"],[15,92,41,79],[16,4,43,2],[16,8,43,6,"routes"],[16,14,43,12],[16,15,43,13,"length"],[16,21,43,19],[16,26,43,24],[16,27,43,25],[16,29,43,27],[17,6,44,4],[17,13,44,11,"undefined"],[17,22,44,20],[18,4,45,2],[19,4,47,2],[19,8,48,4],[19,10,49,7,"routes"],[19,16,49,13],[19,17,49,14,"length"],[19,23,49,20],[19,28,49,25],[19,29,49,26],[19,33,49,30,"routes"],[19,39,49,36],[19,40,49,37],[19,41,49,38],[19,42,49,39],[19,43,49,40,"key"],[19,46,49,43],[19,51,49,48,"undefined"],[19,60,49,57],[19,64,50,7,"routes"],[19,70,50,13],[19,71,50,14,"length"],[19,77,50,20],[19,82,50,25],[19,83,50,26],[19,87,51,8,"routes"],[19,93,51,14],[19,94,51,15],[19,95,51,16],[19,96,51,17],[19,97,51,18,"key"],[19,100,51,21],[19,105,51,26,"undefined"],[19,114,51,35],[19,118,52,8,"routes"],[19,124,52,14],[19,125,52,15],[19,126,52,16],[19,127,52,17],[19,128,52,18,"name"],[19,132,52,22],[19,138,52,27,"normalizedConfig"],[19,154,52,43],[19,174,52,27,"normalizedConfig"],[19,190,52,43],[19,191,52,45,"initialRouteName"],[19,207,52,61],[19,212,53,8,"routes"],[19,218,53,14],[19,219,53,15],[19,220,53,16],[19,221,53,17],[19,222,53,18,"key"],[19,225,53,21],[19,230,53,26,"undefined"],[19,239,53,36],[19,240,54,5],[19,242,55,4],[20,6,56,4],[20,13,56,11],[21,8,57,6,"type"],[21,12,57,10],[21,14,57,12],[21,21,57,19],[22,8,58,6,"payload"],[22,15,58,13],[22,17,58,15,"state"],[23,6,59,4],[23,7,59,5],[24,4,60,2],[25,4,62,2],[25,8,62,8,"route"],[25,13,62,13],[25,16,62,16,"state"],[25,21,62,21],[25,22,62,22,"routes"],[25,28,62,28],[25,30,62,28,"_state$index"],[25,42,62,28],[25,45,62,29,"state"],[25,50,62,34],[25,51,62,35,"index"],[25,56,62,40],[25,68,62,40,"_state$index"],[25,80,62,40],[25,83,62,44,"state"],[25,88,62,49],[25,89,62,50,"routes"],[25,95,62,56],[25,96,62,57,"length"],[25,102,62,63],[25,105,62,66],[25,106,62,67],[25,107,62,68],[26,4,64,2],[26,8,64,6,"current"],[26,15,64,56],[26,18,64,59,"route"],[26,23,64,64],[26,43,64,59,"route"],[26,48,64,64],[26,49,64,66,"state"],[26,54,64,71],[27,4,65,2],[27,8,65,6,"config"],[27,14,65,36],[27,17,65,39,"normalizedConfig"],[27,33,65,55],[27,54,65,55,"_normalizedConfig$scr"],[27,75,65,55],[27,78,65,39,"normalizedConfig"],[27,94,65,55],[27,95,65,57,"screens"],[27,102,65,64],[27,123,65,39,"_normalizedConfig$scr"],[27,144,65,39],[27,145,65,67,"route"],[27,150,65,72],[27,170,65,67,"route"],[27,175,65,72],[27,176,65,74,"name"],[27,180,65,78],[27,181,65,79],[28,4,66,2],[28,8,66,6,"params"],[28,14,66,12],[28,17,66,12,"_objectSpread"],[28,30,66,12],[28,35,66,20,"route"],[28,40,66,25],[28,41,66,26,"params"],[28,47,66,32],[28,48,69,3],[29,4,71,2],[29,8,71,6,"payload"],[29,15,71,13],[29,18,71,16,"route"],[29,23,71,21],[29,26,72,6],[30,6,72,8,"name"],[30,10,72,12],[30,12,72,14,"route"],[30,17,72,19],[30,18,72,20,"name"],[30,22,72,24],[31,6,72,26,"path"],[31,10,72,30],[31,12,72,32,"route"],[31,17,72,37],[31,18,72,38,"path"],[31,22,72,42],[32,6,72,44,"params"],[32,12,72,50],[32,14,72,44,"params"],[33,4,72,51],[33,5,72,52],[33,8,73,6,"undefined"],[33,17,73,15],[34,4,75,2],[34,11,75,9,"current"],[34,18,75,16],[34,20,75,18],[35,6,75,18],[35,10,75,18,"_config"],[35,17,75,18],[35,19,75,18,"_config2"],[35,27,75,18],[35,29,75,18,"_config2$screens"],[35,45,75,18],[36,6,76,4],[36,10,76,8,"current"],[36,17,76,15],[36,18,76,16,"routes"],[36,24,76,22],[36,25,76,23,"length"],[36,31,76,29],[36,36,76,34],[36,37,76,35],[36,39,76,37],[37,8,77,6],[37,15,77,13,"undefined"],[37,24,77,22],[38,6,78,4],[39,6,80,4],[39,10,80,10,"routes"],[39,17,80,16],[39,20,81,6,"current"],[39,27,81,13],[39,28,81,14,"index"],[39,33,81,19],[39,37,81,23],[39,41,81,27],[39,44,82,10,"current"],[39,51,82,17],[39,52,82,18,"routes"],[39,58,82,24],[39,59,82,25,"slice"],[39,64,82,30],[39,65,82,31],[39,66,82,32],[39,68,82,34,"current"],[39,75,82,41],[39,76,82,42,"index"],[39,81,82,47],[39,84,82,50],[39,85,82,51],[39,86,82,52],[39,89,83,10,"current"],[39,96,83,17],[39,97,83,18,"routes"],[39,103,83,24],[40,6,85,4],[40,10,85,10,"route"],[40,16,85,60],[40,19,86,6,"routes"],[40,26,86,12],[40,27,86,13,"routes"],[40,34,86,19],[40,35,86,20,"length"],[40,41,86,26],[40,44,86,29],[40,45,86,30],[40,46,86,31],[42,6,88,4],[43,6,89,4,"Object"],[43,12,89,10],[43,13,89,11,"assign"],[43,19,89,17],[43,20,89,18,"params"],[43,26,89,24],[43,28,89,26],[44,8,90,6,"initial"],[44,15,90,13],[44,17,90,15,"undefined"],[44,26,90,24],[45,8,91,6,"screen"],[45,14,91,12],[45,16,91,14,"undefined"],[45,25,91,23],[46,8,92,6,"params"],[46,14,92,12],[46,16,92,14,"undefined"],[46,25,92,23],[47,8,93,6,"state"],[47,13,93,11],[47,15,93,13,"undefined"],[48,6,94,4],[48,7,94,5],[48,8,94,6],[49,6,96,4],[49,10,96,8,"routes"],[49,17,96,14],[49,18,96,15,"length"],[49,24,96,21],[49,29,96,26],[49,30,96,27],[49,34,96,31,"routes"],[49,41,96,37],[49,42,96,38],[49,43,96,39],[49,44,96,40],[49,45,96,41,"key"],[49,48,96,44],[49,53,96,49,"undefined"],[49,62,96,58],[49,64,96,60],[50,8,97,6,"params"],[50,14,97,12],[50,15,97,13,"initial"],[50,22,97,20],[50,25,97,23],[50,29,97,27],[51,8,98,6,"params"],[51,14,98,12],[51,15,98,13,"screen"],[51,21,98,19],[51,24,98,22,"route"],[51,30,98,27],[51,31,98,28,"name"],[51,35,98,32],[52,6,99,4],[52,7,99,5],[52,13,99,11],[52,17,100,6,"routes"],[52,24,100,12],[52,25,100,13,"length"],[52,31,100,19],[52,36,100,24],[52,37,100,25],[52,41,101,6,"routes"],[52,48,101,12],[52,49,101,13],[52,50,101,14],[52,51,101,15],[52,52,101,16,"key"],[52,55,101,19],[52,60,101,24,"undefined"],[52,69,101,33],[52,73,102,6,"routes"],[52,80,102,12],[52,81,102,13],[52,82,102,14],[52,83,102,15],[52,84,102,16,"name"],[52,88,102,20],[52,95,102,20,"_config"],[52,102,102,20],[52,105,102,25,"config"],[52,111,102,31],[52,132,102,25,"_config"],[52,139,102,25],[52,140,102,33,"initialRouteName"],[52,156,102,49],[52,161,103,6,"routes"],[52,168,103,12],[52,169,103,13],[52,170,103,14],[52,171,103,15],[52,172,103,16,"key"],[52,175,103,19],[52,180,103,24,"undefined"],[52,189,103,33],[52,191,104,6],[53,8,105,6,"params"],[53,14,105,12],[53,15,105,13,"initial"],[53,22,105,20],[53,25,105,23],[53,30,105,28],[54,8,106,6,"params"],[54,14,106,12],[54,15,106,13,"screen"],[54,21,106,19],[54,24,106,22,"route"],[54,30,106,27],[54,31,106,28,"name"],[54,35,106,32],[55,6,107,4],[55,7,107,5],[55,13,107,11],[56,8,108,6,"params"],[56,14,108,12],[56,15,108,13,"state"],[56,20,108,18],[56,23,108,21,"current"],[56,30,108,28],[57,8,109,6],[58,6,110,4],[59,6,112,4],[59,10,112,8,"route"],[59,16,112,13],[59,17,112,14,"state"],[59,22,112,19],[59,24,112,21],[60,8,113,6,"params"],[60,14,113,12],[60,15,113,13,"params"],[60,21,113,19],[60,24,113,19,"_objectSpread"],[60,37,113,19],[60,42,113,27,"route"],[60,48,113,32],[60,49,113,33,"params"],[60,55,113,39],[60,56,113,41],[61,8,114,6,"params"],[61,14,114,12],[61,17,114,15,"params"],[61,23,114,21],[61,24,114,22,"params"],[61,30,117,7],[62,6,118,4],[62,7,118,5],[62,13,118,11],[63,8,119,6,"params"],[63,14,119,12],[63,15,119,13,"path"],[63,19,119,17],[63,22,119,20,"route"],[63,28,119,25],[63,29,119,26,"path"],[63,33,119,30],[64,8,120,6,"params"],[64,14,120,12],[64,15,120,13,"params"],[64,21,120,19],[64,24,120,22,"route"],[64,30,120,27],[64,31,120,28,"params"],[64,37,120,34],[65,6,121,4],[66,6,123,4,"current"],[66,13,123,11],[66,16,123,14,"route"],[66,22,123,19],[66,23,123,20,"state"],[66,28,123,25],[67,6,124,4,"config"],[67,12,124,10],[67,16,124,10,"_config2"],[67,24,124,10],[67,27,124,13,"config"],[67,33,124,19],[67,55,124,19,"_config2$screens"],[67,71,124,19],[67,74,124,13,"_config2"],[67,82,124,13],[67,83,124,21,"screens"],[67,90,124,28],[67,111,124,13,"_config2$screens"],[67,127,124,13],[67,128,124,31,"route"],[67,134,124,36],[67,135,124,37,"name"],[67,139,124,41],[67,140,124,42],[68,4,125,2],[69,4,127,2],[69,8,127,6],[69,9,127,7,"payload"],[69,16,127,14],[69,18,127,16],[70,6,128,4],[71,4,129,2],[73,4,131,2],[74,4,132,2],[75,4,133,2],[75,11,133,9],[76,6,134,4,"type"],[76,10,134,8],[76,12,134,10],[76,22,134,20],[77,6,135,4,"payload"],[77,13,135,11],[77,15,135,4,"payload"],[78,4,136,2],[78,5,136,3],[79,2,137,0],[80,2,139,0],[80,6,139,6,"createNormalizedConfigItem"],[80,32,139,32],[80,35,139,35],[80,44,139,6,"createNormalizedConfigItem"],[80,70,139,32,"createNormalizedConfigItem"],[80,71,139,36,"config"],[80,77,139,71],[81,4,139,71],[81,11,140,2],[81,18,140,9,"config"],[81,24,140,15],[81,29,140,20],[81,37,140,28],[81,41,140,32,"config"],[81,47,140,38],[81,51,140,42],[81,55,140,46],[81,58,141,6],[82,6,142,8,"initialRouteName"],[82,22,142,24],[82,24,142,26,"config"],[82,30,142,32],[82,31,142,33,"initialRouteName"],[82,47,142,49],[83,6,143,8,"screens"],[83,13,143,15],[83,15,144,10,"config"],[83,21,144,16],[83,22,144,17,"screens"],[83,29,144,24],[83,33,144,28],[83,37,144,32],[83,40,145,14,"createNormalizedConfigs"],[83,63,145,37],[83,64,145,38,"config"],[83,70,145,44],[83,71,145,45,"screens"],[83,78,145,52],[83,79,145,53],[83,82,146,14,"undefined"],[84,4,147,6],[84,5,147,7],[84,8,148,6],[84,9,148,7],[84,10,148,8],[85,2,148,8],[86,2,150,0],[86,6,150,6,"createNormalizedConfigs"],[86,29,150,29],[86,32,150,32],[86,41,150,6,"createNormalizedConfigs"],[86,64,150,29,"createNormalizedConfigs"],[86,65,150,33,"options"],[86,72,150,63],[87,4,150,63],[87,11,151,2,"Object"],[87,17,151,8],[87,18,151,9,"entries"],[87,25,151,16],[87,26,151,17,"options"],[87,33,151,24],[87,34,151,25],[87,35,151,26,"reduce"],[87,41,151,32],[87,42,151,61],[87,52,151,62,"acc"],[87,55,151,65],[87,57,151,65,"_ref"],[87,61,151,65],[87,63,151,78],[88,6,151,78],[88,10,151,78,"_ref2"],[88,15,151,78],[88,22,151,78,"_slicedToArray2"],[88,37,151,78],[88,38,151,78,"default"],[88,45,151,78],[88,47,151,78,"_ref"],[88,51,151,78],[89,8,151,68,"k"],[89,9,151,69],[89,12,151,69,"_ref2"],[89,17,151,69],[90,8,151,71,"v"],[90,9,151,72],[90,12,151,72,"_ref2"],[90,17,151,72],[91,6,152,4,"acc"],[91,9,152,7],[91,10,152,8,"k"],[91,11,152,9],[91,12,152,10],[91,15,152,13,"createNormalizedConfigItem"],[91,41,152,39],[91,42,152,40,"v"],[91,43,152,41],[91,44,152,42],[92,6,153,4],[92,13,153,11,"acc"],[92,16,153,14],[93,4,154,2],[93,5,154,3],[93,7,154,5],[93,8,154,6],[93,9,154,7],[93,10,154,8],[94,2,154,8],[95,0,154,9]],"functionMap":{"names":["<global>","getActionFromState","createNormalizedConfigItem","createNormalizedConfigs","Object.entries.reduce$argument_0"],"mappings":"AAA;eC8B;CD0G;mCEE;QFS;gCGE;6DCC;GDG,KH"}},"type":"js/module"}]}