{"dependencies":[{"name":"@babel/runtime/helpers/defineProperty","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":52,"column":41,"index":2212}}],"key":"RY2z4+Bdq4bpTD/1b+1jGPWZdgA="}},{"name":"@babel/runtime/helpers/classCallCheck","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":52,"column":41,"index":2212}}],"key":"ohGilxjVqjyE1GooDVDt9OYg9x0="}},{"name":"@babel/runtime/helpers/createClass","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":52,"column":41,"index":2212}}],"key":"V6GYoXnblvuuGHJNMy7MHyaunsU="}},{"name":"../../service","data":{"asyncType":null,"locs":[{"start":{"line":3,"column":18,"index":95},"end":{"line":3,"column":42,"index":119}}],"key":"mbnYHp2gZj/zcsRVbjM+1Nk2a2Q="}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _defineProperty = _$$_REQUIRE(_dependencyMap[0], \"@babel/runtime/helpers/defineProperty\");\n  var _classCallCheck = _$$_REQUIRE(_dependencyMap[1], \"@babel/runtime/helpers/classCallCheck\");\n  var _createClass = _$$_REQUIRE(_dependencyMap[2], \"@babel/runtime/helpers/createClass\");\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  var service_1 = _$$_REQUIRE(_dependencyMap[3], \"../../service\");\n  var MetaProcessor = /*#__PURE__*/function () {\n    function MetaProcessor() {\n      _classCallCheck(this, MetaProcessor);\n    }\n    _createClass(MetaProcessor, [{\n      key: \"process\",\n      value: function process(params) {\n        var mapping = params.mapping,\n          meta = params.meta,\n          theme = params.theme;\n        var strictTheme = this.processStrictTheme(theme || {});\n        var entries = meta.reduce(function (acc, controlMeta) {\n          var name = controlMeta.name,\n            appearance = controlMeta.appearance,\n            variants = controlMeta.variants,\n            states = controlMeta.states;\n          var nextAppearanceEntries = service_1.createAllStyles(mapping, name, appearance, variants, states, strictTheme);\n          var prevAppearanceStyles = acc[name];\n          var nextAppearanceStyles = service_1.toObject(nextAppearanceEntries);\n          return Object.assign(Object.assign({}, acc), _defineProperty({}, name, Object.assign(Object.assign({}, prevAppearanceStyles), nextAppearanceStyles)));\n        }, {});\n        return this.withControlMeta(mapping, entries);\n      }\n    }, {\n      key: \"processStrictTheme\",\n      value: function processStrictTheme(theme) {\n        var _this = this;\n        return Object.keys(theme).reduce(function (acc, key) {\n          return Object.assign(Object.assign({}, acc), _defineProperty({}, key, _this.getStrictThemeValue(key, theme, key)));\n        }, {});\n      }\n    }, {\n      key: \"getStrictThemeValue\",\n      value: function getStrictThemeValue(name, theme, fallback) {\n        var key = this.isReference(name) ? this.createKeyFromReference(name) : name;\n        var value = this.findValue(key, theme);\n        return service_1.isNil(value) ? fallback : value;\n      }\n    }, {\n      key: \"findValue\",\n      value: function findValue(name, theme) {\n        var value = theme[name];\n        if (this.isReference(value)) {\n          var themeKey = this.createKeyFromReference(value);\n          return this.findValue(themeKey, theme);\n        }\n        return value;\n      }\n    }, {\n      key: \"isReference\",\n      value: function isReference(value) {\n        return `${value}`.startsWith('$');\n      }\n    }, {\n      key: \"createKeyFromReference\",\n      value: function createKeyFromReference(value) {\n        return `${value}`.substring(1);\n      }\n    }, {\n      key: \"withControlMeta\",\n      value: function withControlMeta(mapping, style) {\n        return Object.keys(style).reduce(function (acc, control) {\n          var controlEntry = {\n            meta: mapping[control].meta,\n            styles: style[control]\n          };\n          return Object.assign(Object.assign({}, acc), _defineProperty({}, control, controlEntry));\n        }, {});\n      }\n    }]);\n    return MetaProcessor;\n  }();\n  exports.MetaProcessor = MetaProcessor;\n});","lineCount":84,"map":[[2,2,1,0],[2,14,1,12],[4,2,1,13],[4,6,1,13,"_defineProperty"],[4,21,1,13],[4,24,1,13,"_$$_REQUIRE"],[4,35,1,13],[4,36,1,13,"_dependencyMap"],[4,50,1,13],[5,2,1,13],[5,6,1,13,"_classCallCheck"],[5,21,1,13],[5,24,1,13,"_$$_REQUIRE"],[5,35,1,13],[5,36,1,13,"_dependencyMap"],[5,50,1,13],[6,2,1,13],[6,6,1,13,"_createClass"],[6,18,1,13],[6,21,1,13,"_$$_REQUIRE"],[6,32,1,13],[6,33,1,13,"_dependencyMap"],[6,47,1,13],[7,2,2,0,"Object"],[7,8,2,6],[7,9,2,7,"defineProperty"],[7,23,2,21],[7,24,2,22,"exports"],[7,31,2,29],[7,33,2,31],[7,45,2,43],[7,47,2,45],[8,4,2,47,"value"],[8,9,2,52],[8,11,2,54],[9,2,2,59],[9,3,2,60],[9,4,2,61],[10,2,3,0],[10,6,3,6,"service_1"],[10,15,3,15],[10,18,3,18,"require"],[10,29,3,25],[10,30,3,25,"_dependencyMap"],[10,44,3,25],[10,64,3,41],[10,65,3,42],[11,2,3,43],[11,6,4,6,"MetaProcessor"],[11,19,4,19],[12,4,4,19],[12,13,4,19,"MetaProcessor"],[12,27,4,19],[13,6,4,19,"_classCallCheck"],[13,21,4,19],[13,28,4,19,"MetaProcessor"],[13,41,4,19],[14,4,4,19],[15,4,4,19,"_createClass"],[15,16,4,19],[15,17,4,19,"MetaProcessor"],[15,30,4,19],[16,6,4,19,"key"],[16,9,4,19],[17,6,4,19,"value"],[17,11,4,19],[17,13,5,4],[17,22,5,4,"process"],[17,30,5,12,"params"],[17,36,5,18],[17,38,5,20],[18,8,6,8],[18,12,6,16,"mapping"],[18,19,6,23],[18,22,6,41,"params"],[18,28,6,47],[18,29,6,16,"mapping"],[18,36,6,23],[19,10,6,25,"meta"],[19,14,6,29],[19,17,6,41,"params"],[19,23,6,47],[19,24,6,25,"meta"],[19,28,6,29],[20,10,6,31,"theme"],[20,15,6,36],[20,18,6,41,"params"],[20,24,6,47],[20,25,6,31,"theme"],[20,30,6,36],[21,8,7,8],[21,12,7,14,"strictTheme"],[21,23,7,25],[21,26,7,28],[21,30,7,32],[21,31,7,33,"processStrictTheme"],[21,49,7,51],[21,50,7,52,"theme"],[21,55,7,57],[21,59,7,61],[21,60,7,62],[21,61,7,63],[21,62,7,64],[22,8,8,8],[22,12,8,14,"entries"],[22,19,8,21],[22,22,8,24,"meta"],[22,26,8,28],[22,27,8,29,"reduce"],[22,33,8,35],[22,34,8,36],[22,44,8,37,"acc"],[22,47,8,40],[22,49,8,42,"controlMeta"],[22,60,8,53],[22,62,8,58],[23,10,9,12],[23,14,9,20,"name"],[23,18,9,24],[23,21,9,59,"controlMeta"],[23,32,9,70],[23,33,9,20,"name"],[23,37,9,24],[24,12,9,26,"appearance"],[24,22,9,36],[24,25,9,59,"controlMeta"],[24,36,9,70],[24,37,9,26,"appearance"],[24,47,9,36],[25,12,9,38,"variants"],[25,20,9,46],[25,23,9,59,"controlMeta"],[25,34,9,70],[25,35,9,38,"variants"],[25,43,9,46],[26,12,9,48,"states"],[26,18,9,54],[26,21,9,59,"controlMeta"],[26,32,9,70],[26,33,9,48,"states"],[26,39,9,54],[27,10,10,12],[27,14,10,18,"nextAppearanceEntries"],[27,35,10,39],[27,38,10,42,"service_1"],[27,47,10,51],[27,48,10,52,"createAllStyles"],[27,63,10,67],[27,64,10,68,"mapping"],[27,71,10,75],[27,73,10,77,"name"],[27,77,10,81],[27,79,10,83,"appearance"],[27,89,10,93],[27,91,10,95,"variants"],[27,99,10,103],[27,101,10,105,"states"],[27,107,10,111],[27,109,10,113,"strictTheme"],[27,120,10,124],[27,121,10,125],[28,10,11,12],[28,14,11,18,"prevAppearanceStyles"],[28,34,11,38],[28,37,11,41,"acc"],[28,40,11,44],[28,41,11,45,"name"],[28,45,11,49],[28,46,11,50],[29,10,12,12],[29,14,12,18,"nextAppearanceStyles"],[29,34,12,38],[29,37,12,41,"service_1"],[29,46,12,50],[29,47,12,51,"toObject"],[29,55,12,59],[29,56,12,60,"nextAppearanceEntries"],[29,77,12,81],[29,78,12,82],[30,10,13,12],[30,17,13,19,"Object"],[30,23,13,25],[30,24,13,26,"assign"],[30,30,13,32],[30,31,13,33,"Object"],[30,37,13,39],[30,38,13,40,"assign"],[30,44,13,46],[30,45,13,47],[30,46,13,48],[30,47,13,49],[30,49,13,51,"acc"],[30,52,13,54],[30,53,13,55],[30,55,13,55,"_defineProperty"],[30,70,13,55],[30,75,13,60,"name"],[30,79,13,64],[30,81,13,67,"Object"],[30,87,13,73],[30,88,13,74,"assign"],[30,94,13,80],[30,95,13,81,"Object"],[30,101,13,87],[30,102,13,88,"assign"],[30,108,13,94],[30,109,13,95],[30,110,13,96],[30,111,13,97],[30,113,13,99,"prevAppearanceStyles"],[30,133,13,119],[30,134,13,120],[30,136,13,122,"nextAppearanceStyles"],[30,156,13,142],[30,157,13,143],[30,158,13,145],[30,159,13,146],[31,8,14,8],[31,9,14,9],[31,11,14,11],[31,12,14,12],[31,13,14,13],[31,14,14,14],[32,8,15,8],[32,15,15,15],[32,19,15,19],[32,20,15,20,"withControlMeta"],[32,35,15,35],[32,36,15,36,"mapping"],[32,43,15,43],[32,45,15,45,"entries"],[32,52,15,52],[32,53,15,53],[33,6,16,4],[34,4,16,5],[35,6,16,5,"key"],[35,9,16,5],[36,6,16,5,"value"],[36,11,16,5],[36,13,17,4],[36,22,17,4,"processStrictTheme"],[36,41,17,23,"theme"],[36,46,17,28],[36,48,17,30],[37,8,17,30],[37,12,17,30,"_this"],[37,17,17,30],[38,8,18,8],[38,15,18,15,"Object"],[38,21,18,21],[38,22,18,22,"keys"],[38,26,18,26],[38,27,18,27,"theme"],[38,32,18,32],[38,33,18,33],[38,34,18,34,"reduce"],[38,40,18,40],[38,41,18,41],[38,51,18,42,"acc"],[38,54,18,45],[38,56,18,47,"key"],[38,59,18,50],[38,61,18,55],[39,10,19,12],[39,17,19,19,"Object"],[39,23,19,25],[39,24,19,26,"assign"],[39,30,19,32],[39,31,19,33,"Object"],[39,37,19,39],[39,38,19,40,"assign"],[39,44,19,46],[39,45,19,47],[39,46,19,48],[39,47,19,49],[39,49,19,51,"acc"],[39,52,19,54],[39,53,19,55],[39,55,19,55,"_defineProperty"],[39,70,19,55],[39,75,19,60,"key"],[39,78,19,63],[39,80,19,66,"_this"],[39,85,19,70],[39,86,19,71,"getStrictThemeValue"],[39,105,19,90],[39,106,19,91,"key"],[39,109,19,94],[39,111,19,96,"theme"],[39,116,19,101],[39,118,19,103,"key"],[39,121,19,106],[39,122,19,107],[39,123,19,109],[39,124,19,110],[40,8,20,8],[40,9,20,9],[40,11,20,11],[40,12,20,12],[40,13,20,13],[40,14,20,14],[41,6,21,4],[42,4,21,5],[43,6,21,5,"key"],[43,9,21,5],[44,6,21,5,"value"],[44,11,21,5],[44,13,22,4],[44,22,22,4,"getStrictThemeValue"],[44,42,22,24,"name"],[44,46,22,28],[44,48,22,30,"theme"],[44,53,22,35],[44,55,22,37,"fallback"],[44,63,22,45],[44,65,22,47],[45,8,23,8],[45,12,23,14,"key"],[45,15,23,17],[45,18,23,20],[45,22,23,24],[45,23,23,25,"isReference"],[45,34,23,36],[45,35,23,37,"name"],[45,39,23,41],[45,40,23,42],[45,43,23,45],[45,47,23,49],[45,48,23,50,"createKeyFromReference"],[45,70,23,72],[45,71,23,73,"name"],[45,75,23,77],[45,76,23,78],[45,79,23,81,"name"],[45,83,23,85],[46,8,24,8],[46,12,24,14,"value"],[46,17,24,19],[46,20,24,22],[46,24,24,26],[46,25,24,27,"findValue"],[46,34,24,36],[46,35,24,37,"key"],[46,38,24,40],[46,40,24,42,"theme"],[46,45,24,47],[46,46,24,48],[47,8,25,8],[47,15,25,15,"service_1"],[47,24,25,24],[47,25,25,25,"isNil"],[47,30,25,30],[47,31,25,31,"value"],[47,36,25,36],[47,37,25,37],[47,40,25,40,"fallback"],[47,48,25,48],[47,51,25,51,"value"],[47,56,25,56],[48,6,26,4],[49,4,26,5],[50,6,26,5,"key"],[50,9,26,5],[51,6,26,5,"value"],[51,11,26,5],[51,13,27,4],[51,22,27,4,"findValue"],[51,32,27,14,"name"],[51,36,27,18],[51,38,27,20,"theme"],[51,43,27,25],[51,45,27,27],[52,8,28,8],[52,12,28,14,"value"],[52,17,28,19],[52,20,28,22,"theme"],[52,25,28,27],[52,26,28,28,"name"],[52,30,28,32],[52,31,28,33],[53,8,29,8],[53,12,29,12],[53,16,29,16],[53,17,29,17,"isReference"],[53,28,29,28],[53,29,29,29,"value"],[53,34,29,34],[53,35,29,35],[53,37,29,37],[54,10,30,12],[54,14,30,18,"themeKey"],[54,22,30,26],[54,25,30,29],[54,29,30,33],[54,30,30,34,"createKeyFromReference"],[54,52,30,56],[54,53,30,57,"value"],[54,58,30,62],[54,59,30,63],[55,10,31,12],[55,17,31,19],[55,21,31,23],[55,22,31,24,"findValue"],[55,31,31,33],[55,32,31,34,"themeKey"],[55,40,31,42],[55,42,31,44,"theme"],[55,47,31,49],[55,48,31,50],[56,8,32,8],[57,8,33,8],[57,15,33,15,"value"],[57,20,33,20],[58,6,34,4],[59,4,34,5],[60,6,34,5,"key"],[60,9,34,5],[61,6,34,5,"value"],[61,11,34,5],[61,13,35,4],[61,22,35,4,"isReference"],[61,34,35,16,"value"],[61,39,35,21],[61,41,35,23],[62,8,36,8],[62,15,36,16],[62,18,36,18,"value"],[62,23,36,24],[62,25,36,25],[62,26,36,26,"startsWith"],[62,36,36,36],[62,37,36,37],[62,40,36,40],[62,41,36,41],[63,6,37,4],[64,4,37,5],[65,6,37,5,"key"],[65,9,37,5],[66,6,37,5,"value"],[66,11,37,5],[66,13,38,4],[66,22,38,4,"createKeyFromReference"],[66,45,38,27,"value"],[66,50,38,32],[66,52,38,34],[67,8,39,8],[67,15,39,16],[67,18,39,18,"value"],[67,23,39,24],[67,25,39,25],[67,26,39,26,"substring"],[67,35,39,35],[67,36,39,36],[67,37,39,37],[67,38,39,38],[68,6,40,4],[69,4,40,5],[70,6,40,5,"key"],[70,9,40,5],[71,6,40,5,"value"],[71,11,40,5],[71,13,41,4],[71,22,41,4,"withControlMeta"],[71,38,41,20,"mapping"],[71,45,41,27],[71,47,41,29,"style"],[71,52,41,34],[71,54,41,36],[72,8,42,8],[72,15,42,15,"Object"],[72,21,42,21],[72,22,42,22,"keys"],[72,26,42,26],[72,27,42,27,"style"],[72,32,42,32],[72,33,42,33],[72,34,42,34,"reduce"],[72,40,42,40],[72,41,42,41],[72,51,42,42,"acc"],[72,54,42,45],[72,56,42,47,"control"],[72,63,42,54],[72,65,42,59],[73,10,43,12],[73,14,43,18,"controlEntry"],[73,26,43,30],[73,29,43,33],[74,12,44,16,"meta"],[74,16,44,20],[74,18,44,22,"mapping"],[74,25,44,29],[74,26,44,30,"control"],[74,33,44,37],[74,34,44,38],[74,35,44,39,"meta"],[74,39,44,43],[75,12,45,16,"styles"],[75,18,45,22],[75,20,45,24,"style"],[75,25,45,29],[75,26,45,30,"control"],[75,33,45,37],[76,10,46,12],[76,11,46,13],[77,10,47,12],[77,17,47,19,"Object"],[77,23,47,25],[77,24,47,26,"assign"],[77,30,47,32],[77,31,47,33,"Object"],[77,37,47,39],[77,38,47,40,"assign"],[77,44,47,46],[77,45,47,47],[77,46,47,48],[77,47,47,49],[77,49,47,51,"acc"],[77,52,47,54],[77,53,47,55],[77,55,47,55,"_defineProperty"],[77,70,47,55],[77,75,47,60,"control"],[77,82,47,67],[77,84,47,70,"controlEntry"],[77,96,47,82],[77,97,47,84],[77,98,47,85],[78,8,48,8],[78,9,48,9],[78,11,48,11],[78,12,48,12],[78,13,48,13],[78,14,48,14],[79,6,49,4],[80,4,49,5],[81,4,49,5],[81,11,49,5,"MetaProcessor"],[81,24,49,5],[82,2,49,5],[83,2,51,0,"exports"],[83,9,51,7],[83,10,51,8,"MetaProcessor"],[83,23,51,21],[83,26,51,24,"MetaProcessor"],[83,39,51,37],[84,0,51,38]],"functionMap":{"names":["<global>","MetaProcessor","MetaProcessor#process","meta.reduce$argument_0","MetaProcessor#processStrictTheme","Object.keys.reduce$argument_0","MetaProcessor#getStrictThemeValue","MetaProcessor#findValue","MetaProcessor#isReference","MetaProcessor#createKeyFromReference","MetaProcessor#withControlMeta"],"mappings":"AAA;ACG;ICC;oCCG;SDM;KDE;IGC;yCCC;SDE;KHC;IKC;KLI;IMC;KNO;IOC;KPE;IQC;KRE;ISC;yCLC;SKM;KTC;CDC"}},"type":"js/module"}]}