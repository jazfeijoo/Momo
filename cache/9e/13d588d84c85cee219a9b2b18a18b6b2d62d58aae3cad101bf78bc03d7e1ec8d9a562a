{"dependencies":[{"name":"./AssetSourceResolver","data":{"asyncType":null,"locs":[{"start":{"line":17,"column":28,"index":374},"end":{"line":17,"column":60,"index":406}}],"key":"q9gi06LUmPE6uKGrct0tmFibDZ8="}},{"name":"./AssetUtils","data":{"asyncType":null,"locs":[{"start":{"line":18,"column":20,"index":428},"end":{"line":18,"column":43,"index":451}}],"key":"eGeiw2qtJreU5h3MnCJ0K/9VpcU="}},{"name":"@react-native/assets-registry/registry","data":{"asyncType":null,"locs":[{"start":{"line":19,"column":22,"index":475},"end":{"line":19,"column":71,"index":524}}],"key":"eCJQAbWl2vdqtA5XE7uCtBnZ6Rk="}},{"name":"../NativeModules/specs/NativeSourceCode","data":{"asyncType":null,"locs":[{"start":{"line":32,"column":17,"index":854},"end":{"line":32,"column":67,"index":904}}],"key":"oSckPPX9N50XzeifVrT6ImD6My8="}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  /**\n   * Copyright (c) Meta Platforms, Inc. and affiliates.\n   *\n   * This source code is licensed under the MIT license found in the\n   * LICENSE file in the root directory of this source tree.\n   *\n   * @format\n   * \n   */\n\n  // Resolves an asset into a `source` for `Image`.\n\n  'use strict';\n\n  var AssetSourceResolver = _$$_REQUIRE(_dependencyMap[0], \"./AssetSourceResolver\");\n  var _require = _$$_REQUIRE(_dependencyMap[1], \"./AssetUtils\"),\n    pickScale = _require.pickScale;\n  var AssetRegistry = _$$_REQUIRE(_dependencyMap[2], \"@react-native/assets-registry/registry\");\n  var _customSourceTransformer, _serverURL, _scriptURL;\n  var _sourceCodeScriptURL;\n  function getSourceCodeScriptURL() {\n    if (_sourceCodeScriptURL) {\n      return _sourceCodeScriptURL;\n    }\n    var sourceCode = global.nativeExtensions && global.nativeExtensions.SourceCode;\n    if (!sourceCode) {\n      sourceCode = _$$_REQUIRE(_dependencyMap[3], \"../NativeModules/specs/NativeSourceCode\").default;\n    }\n    _sourceCodeScriptURL = sourceCode.getConstants().scriptURL;\n    return _sourceCodeScriptURL;\n  }\n  function getDevServerURL() {\n    if (_serverURL === undefined) {\n      var sourceCodeScriptURL = getSourceCodeScriptURL();\n      var match = sourceCodeScriptURL && sourceCodeScriptURL.match(/^https?:\\/\\/.*?\\//);\n      if (match) {\n        // jsBundle was loaded from network\n        _serverURL = match[0];\n      } else {\n        // jsBundle was loaded from file\n        _serverURL = null;\n      }\n    }\n    return _serverURL;\n  }\n  function _coerceLocalScriptURL(scriptURL) {\n    if (scriptURL) {\n      if (scriptURL.startsWith('assets://')) {\n        // android: running from within assets, no offline path to use\n        return null;\n      }\n      scriptURL = scriptURL.substring(0, scriptURL.lastIndexOf('/') + 1);\n      if (!scriptURL.includes('://')) {\n        // Add file protocol in case we have an absolute file path and not a URL.\n        // This shouldn't really be necessary. scriptURL should be a URL.\n        scriptURL = 'file://' + scriptURL;\n      }\n    }\n    return scriptURL;\n  }\n  function getScriptURL() {\n    if (_scriptURL === undefined) {\n      _scriptURL = _coerceLocalScriptURL(getSourceCodeScriptURL());\n    }\n    return _scriptURL;\n  }\n  function setCustomSourceTransformer(transformer) {\n    _customSourceTransformer = transformer;\n  }\n\n  /**\n   * `source` is either a number (opaque type returned by require('./foo.png'))\n   * or an `ImageSource` like { uri: '<http location || file path>' }\n   */\n  function resolveAssetSource(source) {\n    if (typeof source === 'object') {\n      return source;\n    }\n    var asset = AssetRegistry.getAssetByID(source);\n    if (!asset) {\n      return null;\n    }\n    var resolver = new AssetSourceResolver(getDevServerURL(), getScriptURL(), asset);\n    if (_customSourceTransformer) {\n      return _customSourceTransformer(resolver);\n    }\n    return resolver.defaultAsset();\n  }\n  resolveAssetSource.pickScale = pickScale;\n  resolveAssetSource.setCustomSourceTransformer = setCustomSourceTransformer;\n  module.exports = resolveAssetSource;\n});","lineCount":93,"map":[[2,2,1,0],[3,0,2,0],[4,0,3,0],[5,0,4,0],[6,0,5,0],[7,0,6,0],[8,0,7,0],[9,0,8,0],[10,0,9,0],[12,2,11,0],[14,2,13,0],[14,14,13,12],[16,2,17,0],[16,6,17,6,"AssetSourceResolver"],[16,25,17,25],[16,28,17,28,"require"],[16,39,17,35],[16,40,17,35,"_dependencyMap"],[16,54,17,35],[16,82,17,59],[16,83,17,60],[17,2,18,0],[17,6,18,0,"_require"],[17,14,18,0],[17,17,18,20,"require"],[17,28,18,27],[17,29,18,27,"_dependencyMap"],[17,43,18,27],[17,62,18,42],[17,63,18,43],[18,4,18,7,"pickScale"],[18,13,18,16],[18,16,18,16,"_require"],[18,24,18,16],[18,25,18,7,"pickScale"],[18,34,18,16],[19,2,19,0],[19,6,19,6,"AssetRegistry"],[19,19,19,19],[19,22,19,22,"require"],[19,33,19,29],[19,34,19,29,"_dependencyMap"],[19,48,19,29],[19,93,19,70],[19,94,19,71],[20,2,21,0],[20,6,21,4,"_customSourceTransformer"],[20,30,21,28],[20,32,21,30,"_serverURL"],[20,42,21,40],[20,44,21,42,"_scriptURL"],[20,54,21,52],[21,2,23,0],[21,6,23,4,"_sourceCodeScriptURL"],[21,26,23,33],[22,2,24,0],[22,11,24,9,"getSourceCodeScriptURL"],[22,33,24,31,"getSourceCodeScriptURL"],[22,34,24,31],[22,36,24,43],[23,4,25,2],[23,8,25,6,"_sourceCodeScriptURL"],[23,28,25,26],[23,30,25,28],[24,6,26,4],[24,13,26,11,"_sourceCodeScriptURL"],[24,33,26,31],[25,4,27,2],[26,4,29,2],[26,8,29,6,"sourceCode"],[26,18,29,16],[26,21,30,4,"global"],[26,27,30,10],[26,28,30,11,"nativeExtensions"],[26,44,30,27],[26,48,30,31,"global"],[26,54,30,37],[26,55,30,38,"nativeExtensions"],[26,71,30,54],[26,72,30,55,"SourceCode"],[26,82,30,65],[27,4,31,2],[27,8,31,6],[27,9,31,7,"sourceCode"],[27,19,31,17],[27,21,31,19],[28,6,32,4,"sourceCode"],[28,16,32,14],[28,19,32,17,"require"],[28,30,32,24],[28,31,32,24,"_dependencyMap"],[28,45,32,24],[28,91,32,66],[28,92,32,67],[28,93,32,68,"default"],[28,100,32,75],[29,4,33,2],[30,4,34,2,"_sourceCodeScriptURL"],[30,24,34,22],[30,27,34,25,"sourceCode"],[30,37,34,35],[30,38,34,36,"getConstants"],[30,50,34,48],[30,51,34,49],[30,52,34,50],[30,53,34,51,"scriptURL"],[30,62,34,60],[31,4,35,2],[31,11,35,9,"_sourceCodeScriptURL"],[31,31,35,29],[32,2,36,0],[33,2,38,0],[33,11,38,9,"getDevServerURL"],[33,26,38,24,"getDevServerURL"],[33,27,38,24],[33,29,38,36],[34,4,39,2],[34,8,39,6,"_serverURL"],[34,18,39,16],[34,23,39,21,"undefined"],[34,32,39,30],[34,34,39,32],[35,6,40,4],[35,10,40,10,"sourceCodeScriptURL"],[35,29,40,29],[35,32,40,32,"getSourceCodeScriptURL"],[35,54,40,54],[35,55,40,55],[35,56,40,56],[36,6,41,4],[36,10,41,10,"match"],[36,15,41,15],[36,18,42,6,"sourceCodeScriptURL"],[36,37,42,25],[36,41,42,29,"sourceCodeScriptURL"],[36,60,42,48],[36,61,42,49,"match"],[36,66,42,54],[36,67,42,55],[36,86,42,74],[36,87,42,75],[37,6,43,4],[37,10,43,8,"match"],[37,15,43,13],[37,17,43,15],[38,8,44,6],[39,8,45,6,"_serverURL"],[39,18,45,16],[39,21,45,19,"match"],[39,26,45,24],[39,27,45,25],[39,28,45,26],[39,29,45,27],[40,6,46,4],[40,7,46,5],[40,13,46,11],[41,8,47,6],[42,8,48,6,"_serverURL"],[42,18,48,16],[42,21,48,19],[42,25,48,23],[43,6,49,4],[44,4,50,2],[45,4,51,2],[45,11,51,9,"_serverURL"],[45,21,51,19],[46,2,52,0],[47,2,54,0],[47,11,54,9,"_coerceLocalScriptURL"],[47,32,54,30,"_coerceLocalScriptURL"],[47,33,54,31,"scriptURL"],[47,42,54,49],[47,44,54,60],[48,4,55,2],[48,8,55,6,"scriptURL"],[48,17,55,15],[48,19,55,17],[49,6,56,4],[49,10,56,8,"scriptURL"],[49,19,56,17],[49,20,56,18,"startsWith"],[49,30,56,28],[49,31,56,29],[49,42,56,40],[49,43,56,41],[49,45,56,43],[50,8,57,6],[51,8,58,6],[51,15,58,13],[51,19,58,17],[52,6,59,4],[53,6,60,4,"scriptURL"],[53,15,60,13],[53,18,60,16,"scriptURL"],[53,27,60,25],[53,28,60,26,"substring"],[53,37,60,35],[53,38,60,36],[53,39,60,37],[53,41,60,39,"scriptURL"],[53,50,60,48],[53,51,60,49,"lastIndexOf"],[53,62,60,60],[53,63,60,61],[53,66,60,64],[53,67,60,65],[53,70,60,68],[53,71,60,69],[53,72,60,70],[54,6,61,4],[54,10,61,8],[54,11,61,9,"scriptURL"],[54,20,61,18],[54,21,61,19,"includes"],[54,29,61,27],[54,30,61,28],[54,35,61,33],[54,36,61,34],[54,38,61,36],[55,8,62,6],[56,8,63,6],[57,8,64,6,"scriptURL"],[57,17,64,15],[57,20,64,18],[57,29,64,27],[57,32,64,30,"scriptURL"],[57,41,64,39],[58,6,65,4],[59,4,66,2],[60,4,67,2],[60,11,67,9,"scriptURL"],[60,20,67,18],[61,2,68,0],[62,2,70,0],[62,11,70,9,"getScriptURL"],[62,23,70,21,"getScriptURL"],[62,24,70,21],[62,26,70,33],[63,4,71,2],[63,8,71,6,"_scriptURL"],[63,18,71,16],[63,23,71,21,"undefined"],[63,32,71,30],[63,34,71,32],[64,6,72,4,"_scriptURL"],[64,16,72,14],[64,19,72,17,"_coerceLocalScriptURL"],[64,40,72,38],[64,41,72,39,"getSourceCodeScriptURL"],[64,63,72,61],[64,64,72,62],[64,65,72,63],[64,66,72,64],[65,4,73,2],[66,4,74,2],[66,11,74,9,"_scriptURL"],[66,21,74,19],[67,2,75,0],[68,2,77,0],[68,11,77,9,"setCustomSourceTransformer"],[68,37,77,35,"setCustomSourceTransformer"],[68,38,78,2,"transformer"],[68,49,78,69],[68,51,79,8],[69,4,80,2,"_customSourceTransformer"],[69,28,80,26],[69,31,80,29,"transformer"],[69,42,80,40],[70,2,81,0],[72,2,83,0],[73,0,84,0],[74,0,85,0],[75,0,86,0],[76,2,87,0],[76,11,87,9,"resolveAssetSource"],[76,29,87,27,"resolveAssetSource"],[76,30,87,28,"source"],[76,36,87,39],[76,38,87,63],[77,4,88,2],[77,8,88,6],[77,15,88,13,"source"],[77,21,88,19],[77,26,88,24],[77,34,88,32],[77,36,88,34],[78,6,89,4],[78,13,89,11,"source"],[78,19,89,17],[79,4,90,2],[80,4,92,2],[80,8,92,8,"asset"],[80,13,92,13],[80,16,92,16,"AssetRegistry"],[80,29,92,29],[80,30,92,30,"getAssetByID"],[80,42,92,42],[80,43,92,43,"source"],[80,49,92,49],[80,50,92,50],[81,4,93,2],[81,8,93,6],[81,9,93,7,"asset"],[81,14,93,12],[81,16,93,14],[82,6,94,4],[82,13,94,11],[82,17,94,15],[83,4,95,2],[84,4,97,2],[84,8,97,8,"resolver"],[84,16,97,16],[84,19,97,19],[84,23,97,23,"AssetSourceResolver"],[84,42,97,42],[84,43,98,4,"getDevServerURL"],[84,58,98,19],[84,59,98,20],[84,60,98,21],[84,62,99,4,"getScriptURL"],[84,74,99,16],[84,75,99,17],[84,76,99,18],[84,78,100,4,"asset"],[84,83,101,2],[84,84,101,3],[85,4,102,2],[85,8,102,6,"_customSourceTransformer"],[85,32,102,30],[85,34,102,32],[86,6,103,4],[86,13,103,11,"_customSourceTransformer"],[86,37,103,35],[86,38,103,36,"resolver"],[86,46,103,44],[86,47,103,45],[87,4,104,2],[88,4,105,2],[88,11,105,9,"resolver"],[88,19,105,17],[88,20,105,18,"defaultAsset"],[88,32,105,30],[88,33,105,31],[88,34,105,32],[89,2,106,0],[90,2,108,0,"resolveAssetSource"],[90,20,108,18],[90,21,108,19,"pickScale"],[90,30,108,28],[90,33,108,31,"pickScale"],[90,42,108,40],[91,2,109,0,"resolveAssetSource"],[91,20,109,18],[91,21,109,19,"setCustomSourceTransformer"],[91,47,109,45],[91,50,109,48,"setCustomSourceTransformer"],[91,76,109,74],[92,2,110,0,"module"],[92,8,110,6],[92,9,110,7,"exports"],[92,16,110,14],[92,19,110,17,"resolveAssetSource"],[92,37,110,35],[93,0,110,36]],"functionMap":{"names":["<global>","getSourceCodeScriptURL","getDevServerURL","_coerceLocalScriptURL","getScriptURL","setCustomSourceTransformer","resolveAssetSource"],"mappings":"AAA;ACuB;CDY;AEE;CFc;AGE;CHc;AIE;CJK;AKE;CLI;AMM;CNmB"}},"type":"js/module"}]}