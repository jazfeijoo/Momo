{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":164,"column":0,"index":3993}}],"key":"7kvm5yrOpz4NYiDi6sn4qxa8DVQ="}},{"name":"@babel/runtime/helpers/toConsumableArray","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":164,"column":0,"index":3993}}],"key":"XnmB3YjhLQUu4Gtg+kalDAx6bCo="}},{"name":"./ViewConfigIgnore","data":{"asyncType":null,"locs":[{"start":{"line":12,"column":0,"index":290},"end":{"line":12,"column":45,"index":335}}],"key":"BeuUrNqCWAIHigLqPpBLphwDOPU="}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _interopRequireDefault = _$$_REQUIRE(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.stringifyValidationResult = stringifyValidationResult;\n  exports.validate = validate;\n  var _toConsumableArray2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[1], \"@babel/runtime/helpers/toConsumableArray\"));\n  var _ViewConfigIgnore = _$$_REQUIRE(_dependencyMap[2], \"./ViewConfigIgnore\");\n  /**\n   * Copyright (c) Meta Platforms, Inc. and affiliates.\n   *\n   * This source code is licensed under the MIT license found in the\n   * LICENSE file in the root directory of this source tree.\n   *\n   * \n   * @format\n   */\n\n  /**\n   * During the migration from native view configs to static view configs, this is\n   * used to validate that the two are equivalent.\n   */\n  function validate(name, nativeViewConfig, staticViewConfig) {\n    var differences = [];\n    accumulateDifferences(differences, [], {\n      bubblingEventTypes: nativeViewConfig.bubblingEventTypes,\n      directEventTypes: nativeViewConfig.directEventTypes,\n      uiViewClassName: nativeViewConfig.uiViewClassName,\n      validAttributes: nativeViewConfig.validAttributes\n    }, {\n      bubblingEventTypes: staticViewConfig.bubblingEventTypes,\n      directEventTypes: staticViewConfig.directEventTypes,\n      uiViewClassName: staticViewConfig.uiViewClassName,\n      validAttributes: staticViewConfig.validAttributes\n    });\n    if (differences.length === 0) {\n      return {\n        type: 'valid'\n      };\n    }\n    return {\n      type: 'invalid',\n      differences: differences\n    };\n  }\n  function stringifyValidationResult(name, validationResult) {\n    var differences = validationResult.differences;\n    return [`StaticViewConfigValidator: Invalid static view config for '${name}'.`, ''].concat((0, _toConsumableArray2.default)(differences.map(function (difference) {\n      var type = difference.type,\n        path = difference.path;\n      switch (type) {\n        case 'missing':\n          return `- '${path.join('.')}' is missing.`;\n        case 'unequal':\n          return `- '${path.join('.')}' is the wrong value.`;\n        case 'unexpected':\n          return `- '${path.join('.')}' is present but not expected to be.`;\n      }\n    })), ['']).join('\\n');\n  }\n  function accumulateDifferences(differences, path, nativeObject, staticObject) {\n    for (var nativeKey in nativeObject) {\n      var nativeValue = nativeObject[nativeKey];\n      if (!staticObject.hasOwnProperty(nativeKey)) {\n        differences.push({\n          path: [].concat((0, _toConsumableArray2.default)(path), [nativeKey]),\n          type: 'missing',\n          nativeValue: nativeValue\n        });\n        continue;\n      }\n      var staticValue = staticObject[nativeKey];\n      var nativeValueIfObject = ifObject(nativeValue);\n      if (nativeValueIfObject != null) {\n        var staticValueIfObject = ifObject(staticValue);\n        if (staticValueIfObject != null) {\n          path.push(nativeKey);\n          accumulateDifferences(differences, path, nativeValueIfObject, staticValueIfObject);\n          path.pop();\n          continue;\n        }\n      }\n      if (nativeValue !== staticValue) {\n        differences.push({\n          path: [].concat((0, _toConsumableArray2.default)(path), [nativeKey]),\n          type: 'unequal',\n          nativeValue: nativeValue,\n          staticValue: staticValue\n        });\n      }\n    }\n    for (var staticKey in staticObject) {\n      if (!nativeObject.hasOwnProperty(staticKey) && !(0, _ViewConfigIgnore.isIgnored)(staticObject[staticKey])) {\n        differences.push({\n          path: [].concat((0, _toConsumableArray2.default)(path), [staticKey]),\n          type: 'unexpected',\n          staticValue: staticObject[staticKey]\n        });\n      }\n    }\n  }\n  function ifObject(value) {\n    return typeof value === 'object' && !Array.isArray(value) ? value : null;\n  }\n});","lineCount":106,"map":[[9,2,12,0],[9,6,12,0,"_ViewConfigIgnore"],[9,23,12,0],[9,26,12,0,"_$$_REQUIRE"],[9,37,12,0],[9,38,12,0,"_dependencyMap"],[9,52,12,0],[10,2,1,0],[11,0,2,0],[12,0,3,0],[13,0,4,0],[14,0,5,0],[15,0,6,0],[16,0,7,0],[17,0,8,0],[18,0,9,0],[20,2,41,0],[21,0,42,0],[22,0,43,0],[23,0,44,0],[24,2,45,7],[24,11,45,16,"validate"],[24,19,45,24,"validate"],[24,20,46,2,"name"],[24,24,46,14],[24,26,47,2,"nativeViewConfig"],[24,42,47,30],[24,44,48,2,"staticViewConfig"],[24,60,48,30],[24,62,49,20],[25,4,50,2],[25,8,50,8,"differences"],[25,19,50,38],[25,22,50,41],[25,24,50,43],[26,4,51,2,"accumulateDifferences"],[26,25,51,23],[26,26,52,4,"differences"],[26,37,52,15],[26,39,53,4],[26,41,53,6],[26,43,54,4],[27,6,55,6,"bubblingEventTypes"],[27,24,55,24],[27,26,55,26,"nativeViewConfig"],[27,42,55,42],[27,43,55,43,"bubblingEventTypes"],[27,61,55,61],[28,6,56,6,"directEventTypes"],[28,22,56,22],[28,24,56,24,"nativeViewConfig"],[28,40,56,40],[28,41,56,41,"directEventTypes"],[28,57,56,57],[29,6,57,6,"uiViewClassName"],[29,21,57,21],[29,23,57,23,"nativeViewConfig"],[29,39,57,39],[29,40,57,40,"uiViewClassName"],[29,55,57,55],[30,6,58,6,"validAttributes"],[30,21,58,21],[30,23,58,23,"nativeViewConfig"],[30,39,58,39],[30,40,58,40,"validAttributes"],[31,4,59,4],[31,5,59,5],[31,7,60,4],[32,6,61,6,"bubblingEventTypes"],[32,24,61,24],[32,26,61,26,"staticViewConfig"],[32,42,61,42],[32,43,61,43,"bubblingEventTypes"],[32,61,61,61],[33,6,62,6,"directEventTypes"],[33,22,62,22],[33,24,62,24,"staticViewConfig"],[33,40,62,40],[33,41,62,41,"directEventTypes"],[33,57,62,57],[34,6,63,6,"uiViewClassName"],[34,21,63,21],[34,23,63,23,"staticViewConfig"],[34,39,63,39],[34,40,63,40,"uiViewClassName"],[34,55,63,55],[35,6,64,6,"validAttributes"],[35,21,64,21],[35,23,64,23,"staticViewConfig"],[35,39,64,39],[35,40,64,40,"validAttributes"],[36,4,65,4],[36,5,66,2],[36,6,66,3],[37,4,68,2],[37,8,68,6,"differences"],[37,19,68,17],[37,20,68,18,"length"],[37,26,68,24],[37,31,68,29],[37,32,68,30],[37,34,68,32],[38,6,69,4],[38,13,69,11],[39,8,69,12,"type"],[39,12,69,16],[39,14,69,18],[40,6,69,25],[40,7,69,26],[41,4,70,2],[42,4,72,2],[42,11,72,9],[43,6,73,4,"type"],[43,10,73,8],[43,12,73,10],[43,21,73,19],[44,6,74,4,"differences"],[44,17,74,15],[44,19,74,4,"differences"],[45,4,75,2],[45,5,75,3],[46,2,76,0],[47,2,78,7],[47,11,78,16,"stringifyValidationResult"],[47,36,78,41,"stringifyValidationResult"],[47,37,79,2,"name"],[47,41,79,14],[47,43,80,2,"validationResult"],[47,59,80,33],[47,61,81,10],[48,4,82,2],[48,8,82,9,"differences"],[48,19,82,20],[48,22,82,24,"validationResult"],[48,38,82,40],[48,39,82,9,"differences"],[48,50,82,20],[49,4,83,2],[49,11,83,9],[49,12,84,5],[49,74,84,66,"name"],[49,78,84,71],[49,82,84,74],[49,84,85,4],[49,86,85,6],[49,88,85,6,"concat"],[49,94,85,6],[49,99,85,6,"_toConsumableArray2"],[49,118,85,6],[49,119,85,6,"default"],[49,126,85,6],[49,128,86,7,"differences"],[49,139,86,18],[49,140,86,19,"map"],[49,143,86,22],[49,144,86,23],[49,154,86,23,"difference"],[49,164,86,33],[49,166,86,37],[50,6,87,6],[50,10,87,13,"type"],[50,14,87,17],[50,17,87,27,"difference"],[50,27,87,37],[50,28,87,13,"type"],[50,32,87,17],[51,8,87,19,"path"],[51,12,87,23],[51,15,87,27,"difference"],[51,25,87,37],[51,26,87,19,"path"],[51,30,87,23],[52,6,88,6],[52,14,88,14,"type"],[52,18,88,18],[53,8,89,8],[53,13,89,13],[53,22,89,22],[54,10,90,10],[54,17,90,18],[54,23,90,23,"path"],[54,27,90,27],[54,28,90,28,"join"],[54,32,90,32],[54,33,90,33],[54,36,90,36],[54,37,90,38],[54,52,90,52],[55,8,91,8],[55,13,91,13],[55,22,91,22],[56,10,92,10],[56,17,92,18],[56,23,92,23,"path"],[56,27,92,27],[56,28,92,28,"join"],[56,32,92,32],[56,33,92,33],[56,36,92,36],[56,37,92,38],[56,60,92,60],[57,8,93,8],[57,13,93,13],[57,25,93,25],[58,10,94,10],[58,17,94,18],[58,23,94,23,"path"],[58,27,94,27],[58,28,94,28,"join"],[58,32,94,32],[58,33,94,33],[58,36,94,36],[58,37,94,38],[58,75,94,75],[59,6,95,6],[60,4,96,4],[60,5,96,5],[60,6,96,6],[60,10,97,4],[60,12,97,6],[60,15,98,4,"join"],[60,19,98,8],[60,20,98,9],[60,24,98,13],[60,25,98,14],[61,2,99,0],[62,2,101,0],[62,11,101,9,"accumulateDifferences"],[62,32,101,30,"accumulateDifferences"],[62,33,102,2,"differences"],[62,44,102,32],[62,46,103,2,"path"],[62,50,103,21],[62,52,104,2,"nativeObject"],[62,64,104,21],[62,66,105,2,"staticObject"],[62,78,105,21],[62,80,106,8],[63,4,107,2],[63,9,107,7],[63,13,107,13,"nativeKey"],[63,22,107,22],[63,26,107,26,"nativeObject"],[63,38,107,38],[63,40,107,40],[64,6,108,4],[64,10,108,10,"nativeValue"],[64,21,108,21],[64,24,108,24,"nativeObject"],[64,36,108,36],[64,37,108,37,"nativeKey"],[64,46,108,46],[64,47,108,47],[65,6,110,4],[65,10,110,8],[65,11,110,9,"staticObject"],[65,23,110,21],[65,24,110,22,"hasOwnProperty"],[65,38,110,36],[65,39,110,37,"nativeKey"],[65,48,110,46],[65,49,110,47],[65,51,110,49],[66,8,111,6,"differences"],[66,19,111,17],[66,20,111,18,"push"],[66,24,111,22],[66,25,111,23],[67,10,112,8,"path"],[67,14,112,12],[67,19,112,12,"concat"],[67,25,112,12],[67,30,112,12,"_toConsumableArray2"],[67,49,112,12],[67,50,112,12,"default"],[67,57,112,12],[67,59,112,18,"path"],[67,63,112,22],[67,67,112,24,"nativeKey"],[67,76,112,33],[67,78,112,34],[68,10,113,8,"type"],[68,14,113,12],[68,16,113,14],[68,25,113,23],[69,10,114,8,"nativeValue"],[69,21,114,19],[69,23,114,8,"nativeValue"],[70,8,115,6],[70,9,115,7],[70,10,115,8],[71,8,116,6],[72,6,117,4],[73,6,119,4],[73,10,119,10,"staticValue"],[73,21,119,21],[73,24,119,24,"staticObject"],[73,36,119,36],[73,37,119,37,"nativeKey"],[73,46,119,46],[73,47,119,47],[74,6,121,4],[74,10,121,10,"nativeValueIfObject"],[74,29,121,29],[74,32,121,32,"ifObject"],[74,40,121,40],[74,41,121,41,"nativeValue"],[74,52,121,52],[74,53,121,53],[75,6,122,4],[75,10,122,8,"nativeValueIfObject"],[75,29,122,27],[75,33,122,31],[75,37,122,35],[75,39,122,37],[76,8,123,6],[76,12,123,12,"staticValueIfObject"],[76,31,123,31],[76,34,123,34,"ifObject"],[76,42,123,42],[76,43,123,43,"staticValue"],[76,54,123,54],[76,55,123,55],[77,8,124,6],[77,12,124,10,"staticValueIfObject"],[77,31,124,29],[77,35,124,33],[77,39,124,37],[77,41,124,39],[78,10,125,8,"path"],[78,14,125,12],[78,15,125,13,"push"],[78,19,125,17],[78,20,125,18,"nativeKey"],[78,29,125,27],[78,30,125,28],[79,10,126,8,"accumulateDifferences"],[79,31,126,29],[79,32,127,10,"differences"],[79,43,127,21],[79,45,128,10,"path"],[79,49,128,14],[79,51,129,10,"nativeValueIfObject"],[79,70,129,29],[79,72,130,10,"staticValueIfObject"],[79,91,131,8],[79,92,131,9],[80,10,132,8,"path"],[80,14,132,12],[80,15,132,13,"pop"],[80,18,132,16],[80,19,132,17],[80,20,132,18],[81,10,133,8],[82,8,134,6],[83,6,135,4],[84,6,137,4],[84,10,137,8,"nativeValue"],[84,21,137,19],[84,26,137,24,"staticValue"],[84,37,137,35],[84,39,137,37],[85,8,138,6,"differences"],[85,19,138,17],[85,20,138,18,"push"],[85,24,138,22],[85,25,138,23],[86,10,139,8,"path"],[86,14,139,12],[86,19,139,12,"concat"],[86,25,139,12],[86,30,139,12,"_toConsumableArray2"],[86,49,139,12],[86,50,139,12,"default"],[86,57,139,12],[86,59,139,18,"path"],[86,63,139,22],[86,67,139,24,"nativeKey"],[86,76,139,33],[86,78,139,34],[87,10,140,8,"type"],[87,14,140,12],[87,16,140,14],[87,25,140,23],[88,10,141,8,"nativeValue"],[88,21,141,19],[88,23,141,8,"nativeValue"],[88,34,141,19],[89,10,142,8,"staticValue"],[89,21,142,19],[89,23,142,8,"staticValue"],[90,8,143,6],[90,9,143,7],[90,10,143,8],[91,6,144,4],[92,4,145,2],[93,4,147,2],[93,9,147,7],[93,13,147,13,"staticKey"],[93,22,147,22],[93,26,147,26,"staticObject"],[93,38,147,38],[93,40,147,40],[94,6,148,4],[94,10,149,6],[94,11,149,7,"nativeObject"],[94,23,149,19],[94,24,149,20,"hasOwnProperty"],[94,38,149,34],[94,39,149,35,"staticKey"],[94,48,149,44],[94,49,149,45],[94,53,150,6],[94,54,150,7],[94,58,150,7,"isIgnored"],[94,85,150,16],[94,87,150,17,"staticObject"],[94,99,150,29],[94,100,150,30,"staticKey"],[94,109,150,39],[94,110,150,40],[94,111,150,41],[94,113,151,6],[95,8,152,6,"differences"],[95,19,152,17],[95,20,152,18,"push"],[95,24,152,22],[95,25,152,23],[96,10,153,8,"path"],[96,14,153,12],[96,19,153,12,"concat"],[96,25,153,12],[96,30,153,12,"_toConsumableArray2"],[96,49,153,12],[96,50,153,12,"default"],[96,57,153,12],[96,59,153,18,"path"],[96,63,153,22],[96,67,153,24,"staticKey"],[96,76,153,33],[96,78,153,34],[97,10,154,8,"type"],[97,14,154,12],[97,16,154,14],[97,28,154,26],[98,10,155,8,"staticValue"],[98,21,155,19],[98,23,155,21,"staticObject"],[98,35,155,33],[98,36,155,34,"staticKey"],[98,45,155,43],[99,8,156,6],[99,9,156,7],[99,10,156,8],[100,6,157,4],[101,4,158,2],[102,2,159,0],[103,2,161,0],[103,11,161,9,"ifObject"],[103,19,161,17,"ifObject"],[103,20,161,18,"value"],[103,25,161,30],[103,27,161,40],[104,4,162,2],[104,11,162,9],[104,18,162,16,"value"],[104,23,162,21],[104,28,162,26],[104,36,162,34],[104,40,162,38],[104,41,162,39,"Array"],[104,46,162,44],[104,47,162,45,"isArray"],[104,54,162,52],[104,55,162,53,"value"],[104,60,162,58],[104,61,162,59],[104,64,162,62,"value"],[104,69,162,67],[104,72,162,70],[104,76,162,74],[105,2,163,0],[106,0,163,1]],"functionMap":{"names":["<global>","validate","stringifyValidationResult","differences.map$argument_0","accumulateDifferences","ifObject"],"mappings":"AAA;OC4C;CD+B;OEE;uBCQ;KDU;CFG;AIE;CJ0D;AKE;CLE"}},"type":"js/module"}]}