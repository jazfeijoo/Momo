{"dependencies":[{"name":"@babel/runtime/helpers/toConsumableArray","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":79,"column":44,"index":3330}}],"key":"XnmB3YjhLQUu4Gtg+kalDAx6bCo="}},{"name":"@babel/runtime/helpers/classCallCheck","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":79,"column":44,"index":3330}}],"key":"ohGilxjVqjyE1GooDVDt9OYg9x0="}},{"name":"@babel/runtime/helpers/createClass","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":79,"column":44,"index":3330}}],"key":"V6GYoXnblvuuGHJNMy7MHyaunsU="}},{"name":"../../service","data":{"asyncType":null,"locs":[{"start":{"line":3,"column":18,"index":95},"end":{"line":3,"column":42,"index":119}}],"key":"mbnYHp2gZj/zcsRVbjM+1Nk2a2Q="}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _toConsumableArray = _$$_REQUIRE(_dependencyMap[0], \"@babel/runtime/helpers/toConsumableArray\");\n  var _classCallCheck = _$$_REQUIRE(_dependencyMap[1], \"@babel/runtime/helpers/classCallCheck\");\n  var _createClass = _$$_REQUIRE(_dependencyMap[2], \"@babel/runtime/helpers/createClass\");\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  var service_1 = _$$_REQUIRE(_dependencyMap[3], \"../../service\");\n  var MappingProcessor = /*#__PURE__*/function () {\n    function MappingProcessor() {\n      _classCallCheck(this, MappingProcessor);\n    }\n    _createClass(MappingProcessor, [{\n      key: \"process\",\n      value: function process(params) {\n        var _this = this;\n        return Object.keys(params).reduce(function (acc, component) {\n          return [].concat(_toConsumableArray(acc), _toConsumableArray(_this.getComponentMappingMeta(params, component)));\n        }, []);\n      }\n    }, {\n      key: \"getComponentMappingMeta\",\n      value: function getComponentMappingMeta(mapping, component) {\n        var componentMapping = mapping[component];\n        // variants and states possible configurations are the same across all appearances, so we can evaluate them once\n        var variants = this.getComponentVariants(mapping, component);\n        var states = this.getComponentStates(mapping, component);\n        return Object.keys(componentMapping.appearances).map(function (appearance) {\n          return {\n            name: component,\n            appearance: appearance,\n            variants: variants,\n            states: states\n          };\n        });\n      }\n    }, {\n      key: \"getComponentVariants\",\n      value: function getComponentVariants(mapping, component) {\n        var needsAllCases = service_1.needsAllVariantCases(mapping, component);\n        var variants = service_1.getComponentVariants(mapping, component);\n        return this.concatComponentVariants(variants, [], needsAllCases);\n      }\n    }, {\n      key: \"getComponentStates\",\n      value: function getComponentStates(mapping, component) {\n        var states = service_1.getComponentStates(mapping, component);\n        return this.concatComponentStates(_toConsumableArray(states));\n      }\n    }, {\n      key: \"concatComponentVariants\",\n      value: function concatComponentVariants(variants, result, needsAllCases) {\n        var _this2 = this;\n        if (variants.length === 0) {\n          return result;\n        }\n        if (needsAllCases) {\n          // this is the case when there is no default path for variant groups,\n          // e.i. not all variant groups values has default values\n          // all possible combinations will be evaluated\n          var concat = variants.reduce(function (acc, current) {\n            return [].concat(_toConsumableArray(acc), _toConsumableArray(_this2.concatVariantGroups(acc, current)));\n          }, variants.shift());\n          return this.concatComponentVariants(variants, [].concat(_toConsumableArray(result), _toConsumableArray(concat)), needsAllCases);\n        }\n        // by default, we will evaluate only required variant groups combinations\n        return variants.reduce(function (acc, current) {\n          if (acc.length === 0) {\n            return current;\n          }\n          return acc.reduce(function (res, c) {\n            return [].concat(_toConsumableArray(res), _toConsumableArray(current.map(function (x) {\n              return c.concat(service_1.SEPARATOR_MAPPING_ENTRY, x);\n            })));\n          }, []);\n        }, []);\n      }\n    }, {\n      key: \"concatVariantGroups\",\n      value: function concatVariantGroups(lhs, rhs) {\n        return lhs.reduce(function (acc, lhsValue) {\n          var concat = rhs.map(function (rhsValue) {\n            return lhsValue.concat(service_1.SEPARATOR_MAPPING_ENTRY, rhsValue);\n          });\n          return [].concat(_toConsumableArray(acc), _toConsumableArray(concat));\n        }, []);\n      }\n    }, {\n      key: \"concatComponentStates\",\n      value: function concatComponentStates(states) {\n        var result = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n        if (states.length === 0) {\n          return result;\n        }\n        var concat = states.reduce(function (acc, current) {\n          var next = acc.map(function (value) {\n            return value.concat(service_1.SEPARATOR_MAPPING_ENTRY, current);\n          });\n          return [].concat(_toConsumableArray(acc), _toConsumableArray(next));\n        }, [states.shift()]);\n        return this.concatComponentStates(states, [].concat(_toConsumableArray(result), _toConsumableArray(concat)));\n      }\n    }]);\n    return MappingProcessor;\n  }();\n  exports.MappingProcessor = MappingProcessor;\n});","lineCount":109,"map":[[2,2,1,0],[2,14,1,12],[4,2,1,13],[4,6,1,13,"_toConsumableArray"],[4,24,1,13],[4,27,1,13,"_$$_REQUIRE"],[4,38,1,13],[4,39,1,13,"_dependencyMap"],[4,53,1,13],[5,2,1,13],[5,6,1,13,"_classCallCheck"],[5,21,1,13],[5,24,1,13,"_$$_REQUIRE"],[5,35,1,13],[5,36,1,13,"_dependencyMap"],[5,50,1,13],[6,2,1,13],[6,6,1,13,"_createClass"],[6,18,1,13],[6,21,1,13,"_$$_REQUIRE"],[6,32,1,13],[6,33,1,13,"_dependencyMap"],[6,47,1,13],[7,2,2,0,"Object"],[7,8,2,6],[7,9,2,7,"defineProperty"],[7,23,2,21],[7,24,2,22,"exports"],[7,31,2,29],[7,33,2,31],[7,45,2,43],[7,47,2,45],[8,4,2,47,"value"],[8,9,2,52],[8,11,2,54],[9,2,2,59],[9,3,2,60],[9,4,2,61],[10,2,3,0],[10,6,3,6,"service_1"],[10,15,3,15],[10,18,3,18,"require"],[10,29,3,25],[10,30,3,25,"_dependencyMap"],[10,44,3,25],[10,64,3,41],[10,65,3,42],[11,2,3,43],[11,6,4,6,"MappingProcessor"],[11,22,4,22],[12,4,4,22],[12,13,4,22,"MappingProcessor"],[12,30,4,22],[13,6,4,22,"_classCallCheck"],[13,21,4,22],[13,28,4,22,"MappingProcessor"],[13,44,4,22],[14,4,4,22],[15,4,4,22,"_createClass"],[15,16,4,22],[15,17,4,22,"MappingProcessor"],[15,33,4,22],[16,6,4,22,"key"],[16,9,4,22],[17,6,4,22,"value"],[17,11,4,22],[17,13,5,4],[17,22,5,4,"process"],[17,30,5,12,"params"],[17,36,5,18],[17,38,5,20],[18,8,5,20],[18,12,5,20,"_this"],[18,17,5,20],[19,8,6,8],[19,15,6,15,"Object"],[19,21,6,21],[19,22,6,22,"keys"],[19,26,6,26],[19,27,6,27,"params"],[19,33,6,33],[19,34,6,34],[19,35,6,35,"reduce"],[19,41,6,41],[19,42,6,42],[19,52,6,43,"acc"],[19,55,6,46],[19,57,6,48,"component"],[19,66,6,57],[19,68,6,62],[20,10,7,12],[20,20,7,12,"concat"],[20,26,7,12],[20,27,7,12,"_toConsumableArray"],[20,45,7,12],[20,46,8,19,"acc"],[20,49,8,22],[20,52,8,22,"_toConsumableArray"],[20,70,8,22],[20,71,9,19,"_this"],[20,76,9,23],[20,77,9,24,"getComponentMappingMeta"],[20,100,9,47],[20,101,9,48,"params"],[20,107,9,54],[20,109,9,56,"component"],[20,118,9,65],[20,119,9,66],[21,8,11,8],[21,9,11,9],[21,11,11,11],[21,13,11,13],[21,14,11,14],[22,6,12,4],[23,4,12,5],[24,6,12,5,"key"],[24,9,12,5],[25,6,12,5,"value"],[25,11,12,5],[25,13,13,4],[25,22,13,4,"getComponentMappingMeta"],[25,46,13,28,"mapping"],[25,53,13,35],[25,55,13,37,"component"],[25,64,13,46],[25,66,13,48],[26,8,14,8],[26,12,14,14,"componentMapping"],[26,28,14,30],[26,31,14,33,"mapping"],[26,38,14,40],[26,39,14,41,"component"],[26,48,14,50],[26,49,14,51],[27,8,15,8],[28,8,16,8],[28,12,16,14,"variants"],[28,20,16,22],[28,23,16,25],[28,27,16,29],[28,28,16,30,"getComponentVariants"],[28,48,16,50],[28,49,16,51,"mapping"],[28,56,16,58],[28,58,16,60,"component"],[28,67,16,69],[28,68,16,70],[29,8,17,8],[29,12,17,14,"states"],[29,18,17,20],[29,21,17,23],[29,25,17,27],[29,26,17,28,"getComponentStates"],[29,44,17,46],[29,45,17,47,"mapping"],[29,52,17,54],[29,54,17,56,"component"],[29,63,17,65],[29,64,17,66],[30,8,18,8],[30,15,18,15,"Object"],[30,21,18,21],[30,22,18,22,"keys"],[30,26,18,26],[30,27,18,27,"componentMapping"],[30,43,18,43],[30,44,18,44,"appearances"],[30,55,18,55],[30,56,18,56],[30,57,18,57,"map"],[30,60,18,60],[30,61,18,61],[30,71,18,62,"appearance"],[30,81,18,72],[30,83,18,77],[31,10,19,12],[31,17,19,19],[32,12,20,16,"name"],[32,16,20,20],[32,18,20,22,"component"],[32,27,20,31],[33,12,21,16,"appearance"],[33,22,21,26],[33,24,21,16,"appearance"],[33,34,21,26],[34,12,22,16,"variants"],[34,20,22,24],[34,22,22,16,"variants"],[34,30,22,24],[35,12,23,16,"states"],[35,18,23,22],[35,20,23,16,"states"],[36,10,24,12],[36,11,24,13],[37,8,25,8],[37,9,25,9],[37,10,25,10],[38,6,26,4],[39,4,26,5],[40,6,26,5,"key"],[40,9,26,5],[41,6,26,5,"value"],[41,11,26,5],[41,13,27,4],[41,22,27,4,"getComponentVariants"],[41,43,27,25,"mapping"],[41,50,27,32],[41,52,27,34,"component"],[41,61,27,43],[41,63,27,45],[42,8,28,8],[42,12,28,14,"needsAllCases"],[42,25,28,27],[42,28,28,30,"service_1"],[42,37,28,39],[42,38,28,40,"needsAllVariantCases"],[42,58,28,60],[42,59,28,61,"mapping"],[42,66,28,68],[42,68,28,70,"component"],[42,77,28,79],[42,78,28,80],[43,8,29,8],[43,12,29,14,"variants"],[43,20,29,22],[43,23,29,25,"service_1"],[43,32,29,34],[43,33,29,35,"getComponentVariants"],[43,53,29,55],[43,54,29,56,"mapping"],[43,61,29,63],[43,63,29,65,"component"],[43,72,29,74],[43,73,29,75],[44,8,30,8],[44,15,30,15],[44,19,30,19],[44,20,30,20,"concatComponentVariants"],[44,43,30,43],[44,44,30,44,"variants"],[44,52,30,52],[44,54,30,54],[44,56,30,56],[44,58,30,58,"needsAllCases"],[44,71,30,71],[44,72,30,72],[45,6,31,4],[46,4,31,5],[47,6,31,5,"key"],[47,9,31,5],[48,6,31,5,"value"],[48,11,31,5],[48,13,32,4],[48,22,32,4,"getComponentStates"],[48,41,32,23,"mapping"],[48,48,32,30],[48,50,32,32,"component"],[48,59,32,41],[48,61,32,43],[49,8,33,8],[49,12,33,14,"states"],[49,18,33,20],[49,21,33,23,"service_1"],[49,30,33,32],[49,31,33,33,"getComponentStates"],[49,49,33,51],[49,50,33,52,"mapping"],[49,57,33,59],[49,59,33,61,"component"],[49,68,33,70],[49,69,33,71],[50,8,34,8],[50,15,34,15],[50,19,34,19],[50,20,34,20,"concatComponentStates"],[50,41,34,41],[50,42,34,41,"_toConsumableArray"],[50,60,34,41],[50,61,34,46,"states"],[50,67,34,52],[50,68,34,53],[50,69,34,54],[51,6,35,4],[52,4,35,5],[53,6,35,5,"key"],[53,9,35,5],[54,6,35,5,"value"],[54,11,35,5],[54,13,36,4],[54,22,36,4,"concatComponentVariants"],[54,46,36,28,"variants"],[54,54,36,36],[54,56,36,38,"result"],[54,62,36,44],[54,64,36,46,"needsAllCases"],[54,77,36,59],[54,79,36,61],[55,8,36,61],[55,12,36,61,"_this2"],[55,18,36,61],[56,8,37,8],[56,12,37,12,"variants"],[56,20,37,20],[56,21,37,21,"length"],[56,27,37,27],[56,32,37,32],[56,33,37,33],[56,35,37,35],[57,10,38,12],[57,17,38,19,"result"],[57,23,38,25],[58,8,39,8],[59,8,40,8],[59,12,40,12,"needsAllCases"],[59,25,40,25],[59,27,40,27],[60,10,41,12],[61,10,42,12],[62,10,43,12],[63,10,44,12],[63,14,44,18,"concat"],[63,20,44,24],[63,23,44,27,"variants"],[63,31,44,35],[63,32,44,36,"reduce"],[63,38,44,42],[63,39,44,43],[63,49,44,44,"acc"],[63,52,44,47],[63,54,44,49,"current"],[63,61,44,56],[63,63,44,61],[64,12,45,16],[64,22,45,16,"concat"],[64,28,45,16],[64,29,45,16,"_toConsumableArray"],[64,47,45,16],[64,48,45,27,"acc"],[64,51,45,30],[64,54,45,30,"_toConsumableArray"],[64,72,45,30],[64,73,45,35,"_this2"],[64,79,45,39],[64,80,45,40,"concatVariantGroups"],[64,99,45,59],[64,100,45,60,"acc"],[64,103,45,63],[64,105,45,65,"current"],[64,112,45,72],[64,113,45,73],[65,10,46,12],[65,11,46,13],[65,13,46,15,"variants"],[65,21,46,23],[65,22,46,24,"shift"],[65,27,46,29],[65,28,46,30],[65,29,46,31],[65,30,46,32],[66,10,47,12],[66,17,47,19],[66,21,47,23],[66,22,47,24,"concatComponentVariants"],[66,45,47,47],[66,46,47,48,"variants"],[66,54,47,56],[66,59,47,56,"concat"],[66,65,47,56],[66,66,47,56,"_toConsumableArray"],[66,84,47,56],[66,85,47,62,"result"],[66,91,47,68],[66,94,47,68,"_toConsumableArray"],[66,112,47,68],[66,113,47,73,"concat"],[66,119,47,79],[66,123,47,82,"needsAllCases"],[66,136,47,95],[66,137,47,96],[67,8,48,8],[68,8,49,8],[69,8,50,8],[69,15,50,15,"variants"],[69,23,50,23],[69,24,50,24,"reduce"],[69,30,50,30],[69,31,50,31],[69,41,50,32,"acc"],[69,44,50,35],[69,46,50,37,"current"],[69,53,50,44],[69,55,50,49],[70,10,51,12],[70,14,51,16,"acc"],[70,17,51,19],[70,18,51,20,"length"],[70,24,51,26],[70,29,51,31],[70,30,51,32],[70,32,51,34],[71,12,52,16],[71,19,52,23,"current"],[71,26,52,30],[72,10,53,12],[73,10,54,12],[73,17,54,19,"acc"],[73,20,54,22],[73,21,54,23,"reduce"],[73,27,54,29],[73,28,54,30],[73,38,54,31,"res"],[73,41,54,34],[73,43,54,36,"c"],[73,44,54,37],[73,46,54,42],[74,12,55,16],[74,22,55,16,"concat"],[74,28,55,16],[74,29,55,16,"_toConsumableArray"],[74,47,55,16],[74,48,55,27,"res"],[74,51,55,30],[74,54,55,30,"_toConsumableArray"],[74,72,55,30],[74,73,55,35,"current"],[74,80,55,42],[74,81,55,43,"map"],[74,84,55,46],[74,85,55,47],[74,95,55,47,"x"],[74,96,55,48],[75,14,55,48],[75,21,55,52,"c"],[75,22,55,53],[75,23,55,54,"concat"],[75,29,55,60],[75,30,55,61,"service_1"],[75,39,55,70],[75,40,55,71,"SEPARATOR_MAPPING_ENTRY"],[75,63,55,94],[75,65,55,96,"x"],[75,66,55,97],[75,67,55,98],[76,12,55,98],[76,14,55,99],[77,10,56,12],[77,11,56,13],[77,13,56,15],[77,15,56,17],[77,16,56,18],[78,8,57,8],[78,9,57,9],[78,11,57,11],[78,13,57,13],[78,14,57,14],[79,6,58,4],[80,4,58,5],[81,6,58,5,"key"],[81,9,58,5],[82,6,58,5,"value"],[82,11,58,5],[82,13,59,4],[82,22,59,4,"concatVariantGroups"],[82,42,59,24,"lhs"],[82,45,59,27],[82,47,59,29,"rhs"],[82,50,59,32],[82,52,59,34],[83,8,60,8],[83,15,60,15,"lhs"],[83,18,60,18],[83,19,60,19,"reduce"],[83,25,60,25],[83,26,60,26],[83,36,60,27,"acc"],[83,39,60,30],[83,41,60,32,"lhsValue"],[83,49,60,40],[83,51,60,45],[84,10,61,12],[84,14,61,18,"concat"],[84,20,61,24],[84,23,61,27,"rhs"],[84,26,61,30],[84,27,61,31,"map"],[84,30,61,34],[84,31,61,35],[84,41,61,35,"rhsValue"],[84,49,61,43],[84,51,61,47],[85,12,62,16],[85,19,62,23,"lhsValue"],[85,27,62,31],[85,28,62,32,"concat"],[85,34,62,38],[85,35,62,39,"service_1"],[85,44,62,48],[85,45,62,49,"SEPARATOR_MAPPING_ENTRY"],[85,68,62,72],[85,70,62,74,"rhsValue"],[85,78,62,82],[85,79,62,83],[86,10,63,12],[86,11,63,13],[86,12,63,14],[87,10,64,12],[87,20,64,12,"concat"],[87,26,64,12],[87,27,64,12,"_toConsumableArray"],[87,45,64,12],[87,46,64,23,"acc"],[87,49,64,26],[87,52,64,26,"_toConsumableArray"],[87,70,64,26],[87,71,64,31,"concat"],[87,77,64,37],[88,8,65,8],[88,9,65,9],[88,11,65,11],[88,13,65,13],[88,14,65,14],[89,6,66,4],[90,4,66,5],[91,6,66,5,"key"],[91,9,66,5],[92,6,66,5,"value"],[92,11,66,5],[92,13,67,4],[92,22,67,4,"concatComponentStates"],[92,44,67,26,"states"],[92,50,67,32],[92,52,67,47],[93,8,67,47],[93,12,67,34,"result"],[93,18,67,40],[93,21,67,40,"arguments"],[93,30,67,40],[93,31,67,40,"length"],[93,37,67,40],[93,45,67,40,"arguments"],[93,54,67,40],[93,62,67,40,"undefined"],[93,71,67,40],[93,74,67,40,"arguments"],[93,83,67,40],[93,89,67,43],[93,91,67,45],[94,8,68,8],[94,12,68,12,"states"],[94,18,68,18],[94,19,68,19,"length"],[94,25,68,25],[94,30,68,30],[94,31,68,31],[94,33,68,33],[95,10,69,12],[95,17,69,19,"result"],[95,23,69,25],[96,8,70,8],[97,8,71,8],[97,12,71,14,"concat"],[97,18,71,20],[97,21,71,23,"states"],[97,27,71,29],[97,28,71,30,"reduce"],[97,34,71,36],[97,35,71,37],[97,45,71,38,"acc"],[97,48,71,41],[97,50,71,43,"current"],[97,57,71,50],[97,59,71,55],[98,10,72,12],[98,14,72,18,"next"],[98,18,72,22],[98,21,72,25,"acc"],[98,24,72,28],[98,25,72,29,"map"],[98,28,72,32],[98,29,72,33],[98,39,72,33,"value"],[98,44,72,38],[99,12,72,38],[99,19,72,42,"value"],[99,24,72,47],[99,25,72,48,"concat"],[99,31,72,54],[99,32,72,55,"service_1"],[99,41,72,64],[99,42,72,65,"SEPARATOR_MAPPING_ENTRY"],[99,65,72,88],[99,67,72,90,"current"],[99,74,72,97],[99,75,72,98],[100,10,72,98],[100,12,72,99],[101,10,73,12],[101,20,73,12,"concat"],[101,26,73,12],[101,27,73,12,"_toConsumableArray"],[101,45,73,12],[101,46,73,23,"acc"],[101,49,73,26],[101,52,73,26,"_toConsumableArray"],[101,70,73,26],[101,71,73,31,"next"],[101,75,73,35],[102,8,74,8],[102,9,74,9],[102,11,74,11],[102,12,74,12,"states"],[102,18,74,18],[102,19,74,19,"shift"],[102,24,74,24],[102,25,74,25],[102,26,74,26],[102,27,74,27],[102,28,74,28],[103,8,75,8],[103,15,75,15],[103,19,75,19],[103,20,75,20,"concatComponentStates"],[103,41,75,41],[103,42,75,42,"states"],[103,48,75,48],[103,53,75,48,"concat"],[103,59,75,48],[103,60,75,48,"_toConsumableArray"],[103,78,75,48],[103,79,75,54,"result"],[103,85,75,60],[103,88,75,60,"_toConsumableArray"],[103,106,75,60],[103,107,75,65,"concat"],[103,113,75,71],[103,115,75,72],[103,116,75,73],[104,6,76,4],[105,4,76,5],[106,4,76,5],[106,11,76,5,"MappingProcessor"],[106,27,76,5],[107,2,76,5],[108,2,78,0,"exports"],[108,9,78,7],[108,10,78,8,"MappingProcessor"],[108,26,78,24],[108,29,78,27,"MappingProcessor"],[108,45,78,43],[109,0,78,44]],"functionMap":{"names":["<global>","MappingProcessor","MappingProcessor#process","Object.keys.reduce$argument_0","MappingProcessor#getComponentMappingMeta","Object.keys.map$argument_0","MappingProcessor#getComponentVariants","MappingProcessor#getComponentStates","MappingProcessor#concatComponentVariants","variants.reduce$argument_0","acc.reduce$argument_0","current.map$argument_0","MappingProcessor#concatVariantGroups","lhs.reduce$argument_0","rhs.map$argument_0","MappingProcessor#concatComponentStates","states.reduce$argument_0","acc.map$argument_0"],"mappings":"AAA;ACG;ICC;0CCC;SDK;KDC;IGC;6DCK;SDO;KHC;IKC;KLI;IMC;KNG;IOC;2CCQ;aDE;+BCI;8BCI;+CCC,mDD;aDC;SDC;KPC;IWC;0BCC;mCCC;aDE;SDE;KXC;IcC;qCCI;iCCC,iED;SDE;KdE;CDC"}},"type":"js/module"}]}